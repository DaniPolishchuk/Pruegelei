<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Fight</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/Fight/fight.css" />
  </head>
  <body>
    <div class="video-container">
      <video autoplay loop muted playsinline id="borderBackground">
        <source id="videoSource" type="video/mp4" />
      </video>
      <div id="gameContainer">
        <div class="health-bar-container">
          <!-- player 1 health -->
          <div id="player1HealthBar">
            <div class="health-bar"></div>
            <div id="player1Health"></div>
          </div>
          <!-- timer -->
          <div id="timer">100</div>
          <!-- player 2 health -->
          <div id="player2HealthBar">
            <div class="health-bar"></div>
            <div id="player2Health"></div>
          </div>
        </div>
        <div id="gameResult"></div>
        <canvas></canvas>
      </div>
    </div>
    <audio id="backgroundMelody" loop autoplay preload="auto"></audio>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      (function loadByPath() {
        const mapping = {
          "/fight": "/Fight/fight.js",
          "/fightL": "/LocalGameMode/fight.js",
        };
        const src = mapping[window.location.pathname];
        const s = document.createElement("script");
        s.src = src;
        s.type = "module";
        document.head.appendChild(s);
      })();
    </script>
    <div id="rematchModal">
      <div class="modalContent">
        <h2>Rematch?</h2>
        <button id="rematchYes">Rematch</button>
        <button id="rematchReselect">Reselect</button>
        <button id="rematchNo">Leave</button>
      </div>
    </div>
    <div id="pauseOverlay" class="hidden">
      <div class="modalContent">
        <h1>PAUSED</h1>
        <h2>Controls</h2>
        <h3>
          ‚å®Ô∏è Keyboard:<br />
          ‚ìê ‚ìì ‚ì¶ | ‚¨ÖÔ∏è ‚û°Ô∏è ‚¨ÜÔ∏è &nbsp;&nbsp;&nbsp;&nbsp;- move & jump<br />
          ‚ì¢ | ‚¨áÔ∏è
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-
          block<br />
          ‚ë† ‚ë° ‚ë¢ ‚ë£ | ‚ì™ ‚ë® ‚ëß ‚ë¶ - attack<br />
        </h3>
        <h3>
          üéÆ Gamepad:<br />
          ‚¨ÖÔ∏è ‚û°Ô∏è ‚¨ÜÔ∏è | L3 &nbsp;- move & jump<br />
          üî∫ üî¥ üü• ‚ùå &nbsp;&nbsp;&nbsp;&nbsp;- block<br />
          L1 L2 R1 R2 - attack<br />
        </h3>
      </div>
    </div>
  </body>
</html>
